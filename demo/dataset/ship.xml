<dataset dbname="shipdb" dbtype="mongo" read="*" write="*" collection="demo.ship">
    <hook module="Boat">
        <parameter name="index" value="Checked"/>
    </hook>
    <transform fetch="notnull" store="trim,null" />
    <find>
        <!-- Any clauses missing values will be remove from the filter by Jarvis. -->
        <filter>{ "$and": [ { "line": { "$eq": $line$ } }, { "name": { "$eq": $name$ } } ] }</filter>
        <options>{ "sort": { "name": 1 } }</options>
    </find>
    <delete>{ "_id": $_id!oid$ }</delete>
    <insert>{ "name": $name$, "line": $line$, "num_funnels": $num_funnels$ }</insert>
</dataset>
